---
interface Props {
  title: string
  description: string
  image?: string
  category: string
  date: string
  href: string
  readTime?: string
}

const {
  title,
  description,
  image,
  category,
  date,
  href,
  readTime = '5 мин'
} = Astro.props

const categoryColors: Record<string, string> = {
  'Проектирование': 'bg-blue-100 text-blue-700',
  'Ипотека': 'bg-green-100 text-green-700',
  'Строительство': 'bg-amber-100 text-amber-700',
  'Советы': 'bg-purple-100 text-purple-700',
  'default': 'bg-gray-100 text-gray-700'
}

const colorClass = categoryColors[category] || categoryColors['default']
---

<article class="group bg-white rounded-2xl overflow-hidden border border-gray-100 hover:border-[#1A7BB3]/30 hover:shadow-xl transition-all duration-300">
  {/* Image */}
  <a href={href} class="block aspect-[16/9] overflow-hidden">
    {image ? (
      <img
        src={image}
        alt={title}
        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
      />
    ) : (
      <div class="w-full h-full bg-gradient-to-br from-[#0A4C76] to-[#1A7BB3] flex items-center justify-center">
        <svg class="w-16 h-16 text-white/30" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
        </svg>
      </div>
    )}
  </a>

  {/* Content */}
  <div class="p-5 lg:p-6">
    {/* Meta */}
    <div class="flex items-center gap-3 mb-3">
      <span class={`px-3 py-1 text-xs font-medium rounded-full ${colorClass}`}>
        {category}
      </span>
      <span class="text-sm text-gray-500">{date}</span>
      <span class="text-sm text-gray-400">•</span>
      <span class="text-sm text-gray-500">{readTime}</span>
    </div>

    {/* Title */}
    <a href={href}>
      <h3 class="text-lg lg:text-xl font-bold text-gray-900 mb-2 group-hover:text-[#1A7BB3] transition-colors line-clamp-2">
        {title}
      </h3>
    </a>

    {/* Description */}
    <p class="text-gray-600 text-sm line-clamp-2 mb-4">
      {description}
    </p>

    {/* Read More */}
    <a
      href={href}
      class="inline-flex items-center text-[#0A4C76] font-medium text-sm hover:text-[#1A7BB3] transition-colors"
    >
      Читать далее
      <svg class="ml-1 w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" />
      </svg>
    </a>
  </div>
</article>
