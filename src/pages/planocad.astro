---
import Layout from '../layouts/Layout.astro'
import ProductHero from '../components/ProductHero.astro'
import ProductFeatures from '../components/ProductFeatures.astro'
import ProductCTA from '../components/ProductCTA.astro'

// Sanity imports
import { getProductBySlug } from '../lib/sanity'

// Fetch product data from Sanity
const product = await getProductBySlug('planocad')

// Default features (fallback)
const defaultFeatures = [
  {
    icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
    </svg>`,
    title: 'Интуитивный интерфейс',
    description: 'Чертите планировки так же легко, как рисуете на бумаге. Умные инструменты понимают ваши намерения и помогают работать быстрее.'
  },
  {
    icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
    </svg>`,
    title: 'Библиотека элементов',
    description: 'Обширная библиотека: двери, окна, сантехника, мебель, электрика. Всё готово к использованию и настраивается под проект.'
  },
  {
    icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25" />
    </svg>`,
    title: 'Экспорт в любой формат',
    description: 'DXF, DWG, PDF, PNG, SVG — экспортируйте чертежи в нужном формате для печати, презентации или передачи в другие программы.'
  },
  {
    icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" />
    </svg>`,
    title: 'AI-помощник',
    description: 'Встроенный AI подсказывает оптимальные решения, проверяет нормативы и помогает избежать типичных ошибок проектирования.'
  },
  {
    icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z" />
    </svg>`,
    title: 'Горячие клавиши',
    description: 'Профессиональные сочетания клавиш для быстрой работы. Копирование, поворот, зеркалирование — всё под рукой.'
  },
  {
    icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z" />
    </svg>`,
    title: 'Облачное хранение',
    description: 'Все проекты в облаке. Работайте с любого устройства, автосохранение защитит от потери данных.'
  }
]
---

<Layout
  title="ПланоCAD — профессиональное проектирование ИЖС"
  description="Софт для проектирования домов с AI-проверкой СНиП. Чертежи, 3D-модели, BIM. Для архитекторов и проектных бюро."
  keywords="CAD проектирование, софт для архитекторов, проектирование ИЖС, чертежи домов, BIM"
  ogImage="/images/og-planocad.jpg"
  canonical="/planocad"
  transparentHeader={true}
>
  <main>
    <ProductHero
      product={product}
      badge="CAD-редактор"
      title="ПланоCAD"
      subtitle="Профессиональный редактор планировок"
      description="Создавайте точные чертежи планировок в удобном веб-редакторе. Библиотека элементов, умные инструменты, экспорт в любой формат."
      gradient="from-[#1A7BB3] via-[#0A4C76] to-[#1A7BB3]"
      primaryCta={{ text: 'Открыть редактор', href: 'https://planocad.ru' }}
      secondaryCta={{ text: 'Документация', href: '/docs' }}
      features={['Веб-редактор', 'Библиотека элементов', 'DXF/DWG экспорт', 'AI-помощник']}
    />

    <ProductFeatures
      product={product}
      badge="Возможности"
      title="Всё для работы с планировками"
      subtitle="Профессиональные инструменты в браузере"
      features={defaultFeatures}
    />

    <!-- Comparison Section -->
    <section class="py-24 bg-white">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <span class="inline-block px-4 py-2 bg-[#92CF93]/20 text-[#1A7BB3] font-medium rounded-full text-sm mb-4">
            Сравнение
          </span>
          <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4">
            ПланоCAD vs Традиционные CAD
          </h2>
        </div>

        <div class="max-w-4xl mx-auto">
          <div class="grid md:grid-cols-2 gap-8">
            <!-- PlanoCAD -->
            <div class="bg-gradient-to-br from-[#0A4C76] to-[#1A7BB3] rounded-2xl p-8 text-white">
              <h3 class="text-2xl font-bold mb-6">ПланоCAD</h3>
              <ul class="space-y-4">
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-[#92CF93] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>Работает в браузере — не нужно устанавливать</span>
                </li>
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-[#92CF93] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>Интуитивный интерфейс для планировок</span>
                </li>
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-[#92CF93] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>AI-помощник проверяет нормативы</span>
                </li>
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-[#92CF93] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>Библиотека готовых элементов</span>
                </li>
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-[#92CF93] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>Облачное хранение и совместная работа</span>
                </li>
              </ul>
            </div>

            <!-- Traditional CAD -->
            <div class="bg-gray-100 rounded-2xl p-8">
              <h3 class="text-2xl font-bold text-gray-900 mb-6">Традиционные CAD</h3>
              <ul class="space-y-4 text-gray-600">
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-gray-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Требуется установка и мощный компьютер</span>
                </li>
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-gray-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Сложный универсальный интерфейс</span>
                </li>
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-gray-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Ручная проверка соответствия нормам</span>
                </li>
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-gray-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Нужно создавать библиотеки самостоятельно</span>
                </li>
                <li class="flex items-start gap-3">
                  <svg class="w-6 h-6 text-gray-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Локальные файлы, сложная синхронизация</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <ProductCTA
      product={product}
      title="Попробуйте ПланоCAD бесплатно"
      description="Начните чертить планировки прямо сейчас. Регистрация не требуется для первого проекта."
      primaryCta={{ text: 'Открыть редактор', href: 'https://planocad.ru' }}
      secondaryCta={{ text: 'Смотреть туториал', href: '#tutorial' }}
    />
  </main>
</Layout>
